<div class="details">
  <div class="details__post">
    <app-post [post]="post"></app-post>
  </div>
  <div class="details__reviews">
    <form class="details__reviews__form" (ngSubmit)="saveReview()" [formGroup]="form">
      <div class="details__reviews__form--input">
        <label class="details__reviews__form--input__label" for="body">Let us know what do you think
          about our post?</label>
        <textarea name="body" id="body" cols="30" rows="10" formControlName="body"
          [placeholder]="[ isEditing ? 'this.body' : 'Write something here...']"></textarea>
        <span class="details__reviews__form--input__error"
          *ngIf="this.form.controls['body'].getError('required') && form.touched">Field
          required!</span>
        <span class="details__reviews__form--input__error"
          *ngIf="form.controls['body'].getError('minlength')">Minimum of 3</span>
      </div>
      <button class="details__reviews__form--btn" type="submit" (click)="saveReview()">Add your
        review</button>
    </form>
    @if (post?.reviewIds?.length) {
    <div class="details__reviews__content">
      @defer (on timer(2000)) {
      <div class="details__reviews__content--posts">
        <app-reviews [reviews]="reviews"></app-reviews>
      </div>
      } @placeholder {
      <p>Oh! Wait a second! It is loading...</p>
      }
    </div>
    } @else {
    <span class="details__reviews--empty-box" title="There are not reviews yet">This post doesn't
      have any review yet. <br /> You could be the first....</span>
    }
  </div>
  <span class="details__back" (click)="goBack()">Go back</span>
</div>